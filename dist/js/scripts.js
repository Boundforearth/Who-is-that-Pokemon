let pokemonRepository=function(){let e=[],t='https://pokeapi.co/api/v2/pokemon/?limit=493';function n(t){if('object'!=typeof t)return alert('Please write a Pokemon as an object');e.push(t)}let o=document.querySelector('.modal');let i=document.querySelector('#search-pokemon');function l(e){let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){e.id=t.id,e.height=t.height/10,e.imageUrl=t.sprites.front_default,e.hp=t.stats[0].base_stat,e.attack=t.stats[1].base_stat,e.defense=t.stats[2].base_stat,e.spAtk=t.stats[3].base_stat,e.spDef=t.stats[4].base_stat,e.speed=t.stats[5].base_stat,e.weight=t.weight/10,e.type1=t.types[0].type.name,t.types[1]&&(e.type2=t.types[1].type.name)}).catch(function(e){console.log(e)})}function c(e,t){let n,o=['bug','dark','dragon','electric','fairy','fighting','fire','flying','ghost','grass','ground','ice','normal','poison','psychic','rock','steel','water'];for(let t=0;t<o.length;t++)if(e===o[t]){n=e+'Button';break}t.classList.add(n),t.classList.add('allType')}function a(t){l(t).then(function(){!function(t,n,i,l,d,s,r,u,p,m,h,f,y){let k=document.querySelector('.next-pokemon'),E=document.querySelector('.previous-pokemon');function g(){let t=n-2;if(t<0)return;let o=e[t];a(o),o='',W()}function L(){if(n>492)return;let t=e[n];a(t),t='',W()}E.addEventListener('click',g),k.addEventListener('click',L);let b=document.querySelector('.pokemon-number');b.innerText='',b.innerText='#'+n;let v=document.querySelector('.modal-title');v.innerText='';let T=t.charAt(0).toUpperCase();v.innerText=T+t.slice(1);let C=document.querySelector('.modal-body');C.innerHTML='';let x=document.createElement('img');x.classList.add('pokemon-image'),x.src=i;let S=document.createElement('div');S.classList.add('pokemon-content');let q=document.createElement('div'),A=document.createElement('div'),w=document.createElement('p');w.innerText='Type 1: '+f,c(f,w);let U=document.createElement('p');U.innerText='Type 2: '+y,c(y,U);let _=document.createElement('p');_.innerText='Weight: '+d+'kg';let D=document.createElement('p');D.innerText='Height: '+l+'m';let R=document.createElement('ul'),j=document.createElement('li');j.innerText='HP: '+s;let B=document.createElement('li');B.innerText='Attack: '+r;let H=document.createElement('li');H.innerText='Defense: '+u;let I=document.createElement('li');I.innerText='SpAtk: '+p;let P=document.createElement('li');P.innerText='SpDef: '+m;let M=document.createElement('li');function W(){k.removeEventListener('click',L),E.removeEventListener('click',g)}M.innerText='speed: '+h,C.appendChild(x),C.appendChild(S),S.appendChild(q),q.appendChild(w),y&&q.appendChild(U),q.appendChild(_),q.appendChild(D),S.appendChild(A),A.appendChild(R),R.appendChild(j),R.appendChild(B),R.appendChild(H),R.appendChild(I),R.appendChild(P),R.appendChild(M),document.querySelector('.close-button-one').addEventListener('click',W),document.querySelector('.close-button-two').addEventListener('click',W),window.addEventListener('keydown',function(e){'Escape'===e.key&&W()}),o.addEventListener('click',function(e){e.target===o&&W()})}(t.name,t.id,t.imageUrl,t.height,t.weight,t.hp,t.attack,t.defense,t.spAtk,t.spDef,t.speed,t.type1,t.type2),console.log(t)})}return i.addEventListener('input',function(){let e=i.value;document.querySelectorAll('.listButton').forEach(function(t){t.innerText.toUpperCase().startsWith(e.toUpperCase())?t.style.display='':t.style.display='none'})}),{getAll:function(){return e},add:n,addListItem:function(t){let n=t.name,o=document.querySelector('.pokemon-list'),i=document.createElement('button');i.innerText=n,i.setAttribute('type','button'),i.setAttribute('data-bs-toggle','modal'),i.setAttribute('data-bs-target','.pokemonModal');let l=e.indexOf(t);var c;l<151?i.classList.add('button1'):l>150&&l<=250?i.classList.add('button2'):l>250&&l<=385?i.classList.add('button3'):l>385&&i.classList.add('button4'),i.classList.add('col'),i.classList.add('listButton'),i.classList.add('button'),i.classList.add('hidden'),o.appendChild(i),c=t,i.addEventListener('click',function(){a(c)})},loadList:function(){return fetch(t).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){n({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:l,showDetails:a,chooseList:function(){let e=['1','2','3','4'];for(let t=0;t<4;t++)document.getElementById('gen'+e[t]).addEventListener('click',function(){document.querySelectorAll('.button').forEach(function(e){e.classList.add('hidden')}),document.querySelectorAll('.button'+e[t]).forEach(function(e){e.classList.remove('hidden')})})}}}();pokemonRepository.chooseList(),pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});